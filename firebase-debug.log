[debug] [2020-03-27T14:53:26.677Z] ----------------------------------------------------------------------
[debug] [2020-03-27T14:53:26.680Z] Command:       /usr/local/Cellar/node/12.10.0/bin/node /usr/local/bin/firebase serve
[debug] [2020-03-27T14:53:26.680Z] CLI Version:   7.14.0
[debug] [2020-03-27T14:53:26.680Z] Platform:      darwin
[debug] [2020-03-27T14:53:26.680Z] Node Version:  v12.10.0
[debug] [2020-03-27T14:53:26.684Z] Time:          Fri Mar 27 2020 14:53:26 GMT+0000 (Greenwich Mean Time)
[debug] [2020-03-27T14:53:26.685Z] ----------------------------------------------------------------------
[debug] [2020-03-27T14:53:26.685Z] 
[debug] [2020-03-27T14:53:26.706Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-03-27T14:53:26.706Z] > authorizing via signed-in user
[debug] [2020-03-27T14:53:26.707Z] [iam] checking project rundat-e0a41 for permissions ["firebase.projects.get"]
[debug] [2020-03-27T14:53:26.709Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/rundat-e0a41:testIamPermissions  

[debug] [2020-03-27T14:53:27.604Z] <<< HTTP RESPONSE 200
[debug] [2020-03-27T14:53:27.610Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/rundat-e0a41  
 
[debug] [2020-03-27T14:53:27.818Z] <<< HTTP RESPONSE 200
[info] 
[info] === Serving from '/Users/yousef/codeclan_work/run_dat'...
[info] 
[warn] ⚠  Your requested "node" version "8" doesn't match your global version "12"
[info] ✔  functions: functions emulator started at http://localhost:5000
[info] i  functions: Watching "/Users/yousef/codeclan_work/run_dat/functions" for Cloud Functions...
[debug] [2020-03-27T14:53:27.859Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:53:27.860Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-03-27T14:53:27.860Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:53:27.861Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9915.sock
[debug] [2020-03-27T14:53:27.861Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: BUSY
[debug] [2020-03-27T14:53:28.119Z] [runtime-status] [9915] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:53:28.120Z] [runtime-status] [9915] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:53:28.124Z] [runtime-status] [9915] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:53:28.126Z] [runtime-status] [9915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:53:28.127Z] [runtime-status] [9915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[info] ✔  functions[api]: http function initialized (http://localhost:5000/rundat-e0a41/europe-west1/api).
[debug] [2020-03-27T14:53:29.624Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: IDLE
[debug] [2020-03-27T14:53:31.548Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T14:53:31.549Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T14:53:31.549Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T14:53:31.554Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T14:53:31.555Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T14:53:31.555Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T14:53:31.555Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9916.sock
[debug] [2020-03-27T14:53:31.555Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: BUSY
[debug] [2020-03-27T14:53:31.801Z] [runtime-status] [9916] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:53:31.803Z] [runtime-status] [9916] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:53:31.805Z] [runtime-status] [9916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:53:31.806Z] [runtime-status] [9916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:53:31.807Z] [runtime-status] [9916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:53:32.309Z] [runtime-status] [9916] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T14:53:32.309Z] [runtime-status] [9916] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T14:53:32.309Z] [runtime-status] [9916] Running api in mode HTTPS
[debug] [2020-03-27T14:53:32.313Z] [runtime-status] [9916] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9916.sock
[debug] [2020-03-27T14:53:32.317Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T14:53:32.336Z] [runtime-status] [9916] Ephemeral server handling POST request
[debug] [2020-03-27T14:53:32.420Z] [runtime-status] [9916] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: 5 NOT_FOUND: No document to update: projects/rundat-e0a41/databases/(default)/documents/users/undefined
[info] >      at Object.callErrorFromStatus (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call.js:30:26)
[info] >      at Http2CallStream.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/client.js:96:33)
[info] >      at Http2CallStream.emit (events.js:214:15)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:100:22
[info] >      at processTicksAndRejections (internal/process/task_queues.js:75:11) {
[info] >    code: 5,
[info] >    details: 'No document to update: projects/rundat-e0a41/databases/(default)/documents/users/undefined',
[info] >    metadata: Metadata { internalRepr: Map {}, options: {} }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T14:53:34.099Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: IDLE
[debug] [2020-03-27T14:53:34.099Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T14:54:24.790Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:54:25.793Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T14:54:25.793Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: FINISHING
[debug] [2020-03-27T14:54:25.793Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T14:54:25.794Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: FINISHING
[debug] [2020-03-27T14:54:25.816Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:54:25.816Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:54:25.817Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:54:25.817Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9931.sock
[debug] [2020-03-27T14:54:25.817Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: BUSY
[debug] [2020-03-27T14:54:25.819Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: exited
[debug] [2020-03-27T14:54:25.819Z] [worker-~diagnostic~-847aad2f-e620-46cb-990e-503d0686f5fc]: FINISHED
[debug] [2020-03-27T14:54:25.819Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: exited
[debug] [2020-03-27T14:54:25.819Z] [worker-api-5b946210-4441-4ec5-a505-54ab1598ff5d]: FINISHED
[debug] [2020-03-27T14:54:26.497Z] [runtime-status] [9931] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:54:26.500Z] [runtime-status] [9931] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:54:26.504Z] [runtime-status] [9931] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:54:26.506Z] [runtime-status] [9931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:26.507Z] [runtime-status] [9931] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:26.678Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:54:27.683Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-03-27T14:54:27.683Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: FINISHING
[debug] [2020-03-27T14:54:27.683Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:54:27.683Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T14:54:27.689Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:54:27.689Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:54:27.689Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:54:27.689Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9940.sock
[debug] [2020-03-27T14:54:27.690Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: BUSY
[debug] [2020-03-27T14:54:28.143Z] [runtime-status] [9940] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:54:28.146Z] [runtime-status] [9940] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:54:28.150Z] [runtime-status] [9940] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:54:28.154Z] [runtime-status] [9940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:28.155Z] [runtime-status] [9940] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:28.195Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: IDLE --> FINISHING
[debug] [2020-03-27T14:54:28.203Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: exited
[debug] [2020-03-27T14:54:28.204Z] [worker-~diagnostic~-e68dc97e-7a06-43e6-81a1-3984856c2c44]: FINISHED
[debug] [2020-03-27T14:54:28.925Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: IDLE
[debug] [2020-03-27T14:54:29.874Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T14:54:29.875Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T14:54:29.875Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T14:54:29.875Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:54:29.879Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T14:54:29.880Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T14:54:29.880Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T14:54:29.881Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9941.sock
[debug] [2020-03-27T14:54:29.881Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: BUSY
[debug] [2020-03-27T14:54:30.126Z] [runtime-status] [9941] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:54:30.128Z] [runtime-status] [9941] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:54:30.131Z] [runtime-status] [9941] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:54:30.132Z] [runtime-status] [9941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:30.133Z] [runtime-status] [9941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:54:30.710Z] [runtime-status] [9941] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T14:54:30.711Z] [runtime-status] [9941] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T14:54:30.711Z] [runtime-status] [9941] Running api in mode HTTPS
[debug] [2020-03-27T14:54:30.716Z] [runtime-status] [9941] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9941.sock
[debug] [2020-03-27T14:54:30.719Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T14:54:30.734Z] [runtime-status] [9941] Ephemeral server handling POST request
[debug] [2020-03-27T14:54:30.818Z] [runtime-status] [9941] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: 5 NOT_FOUND: No document to update: projects/rundat-e0a41/databases/(default)/documents/users/imageman
[info] >      at Object.callErrorFromStatus (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call.js:30:26)
[info] >      at Http2CallStream.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/client.js:96:33)
[info] >      at Http2CallStream.emit (events.js:214:15)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:100:22
[info] >      at processTicksAndRejections (internal/process/task_queues.js:75:11) {
[info] >    code: 5,
[info] >    details: 'No document to update: projects/rundat-e0a41/databases/(default)/documents/users/imageman',
[info] >    metadata: Metadata { internalRepr: Map {}, options: {} }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T14:54:32.053Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: IDLE
[debug] [2020-03-27T14:54:32.053Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T14:55:52.795Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:55:53.797Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T14:55:53.797Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: FINISHING
[debug] [2020-03-27T14:55:53.797Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T14:55:53.797Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: FINISHING
[debug] [2020-03-27T14:55:53.821Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:55:53.821Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:55:53.821Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:55:53.822Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9965.sock
[debug] [2020-03-27T14:55:53.822Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: BUSY
[debug] [2020-03-27T14:55:53.824Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: exited
[debug] [2020-03-27T14:55:53.824Z] [worker-~diagnostic~-027652fa-058a-425a-987d-1b40f53966fd]: FINISHED
[debug] [2020-03-27T14:55:53.824Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: exited
[debug] [2020-03-27T14:55:53.824Z] [worker-api-a2add1c5-2d89-4f4a-9696-c9b138960fa1]: FINISHED
[debug] [2020-03-27T14:55:54.732Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T14:55:54.732Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T14:55:54.732Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T14:55:54.733Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:55:54.733Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T14:55:54.740Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T14:55:54.740Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T14:55:54.740Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T14:55:54.741Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9974.sock
[debug] [2020-03-27T14:55:54.741Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: BUSY
[debug] [2020-03-27T14:55:55.119Z] [runtime-status] [9965] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:55:55.121Z] [runtime-status] [9965] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:55:55.132Z] [runtime-status] [9965] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:55:55.152Z] [runtime-status] [9965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:55:55.153Z] [runtime-status] [9965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:55:55.420Z] [runtime-status] [9974] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:55:55.427Z] [runtime-status] [9974] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:55:55.432Z] [runtime-status] [9974] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:55:55.433Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:55:55.436Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:55:56.861Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: IDLE
[debug] [2020-03-27T14:55:56.862Z] [runtime-status] [9974] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T14:55:56.862Z] [runtime-status] [9974] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T14:55:56.862Z] [runtime-status] [9974] Running api in mode HTTPS
[debug] [2020-03-27T14:55:56.868Z] [runtime-status] [9974] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9974.sock
[debug] [2020-03-27T14:55:56.873Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T14:55:56.890Z] [runtime-status] [9974] Ephemeral server handling POST request
[debug] [2020-03-27T14:55:56.980Z] [runtime-status] [9974] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T14:55:58.254Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: IDLE
[debug] [2020-03-27T14:55:58.254Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T14:57:34.683Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:35.683Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T14:57:35.683Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: FINISHING
[debug] [2020-03-27T14:57:35.683Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T14:57:35.683Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: FINISHING
[debug] [2020-03-27T14:57:35.695Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:35.695Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:57:35.695Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:35.695Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9989.sock
[debug] [2020-03-27T14:57:35.695Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: BUSY
[debug] [2020-03-27T14:57:35.697Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: exited
[debug] [2020-03-27T14:57:35.697Z] [worker-~diagnostic~-b4e31f60-f967-4d0a-b026-9096ea49d63b]: FINISHED
[debug] [2020-03-27T14:57:35.697Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: exited
[debug] [2020-03-27T14:57:35.697Z] [worker-api-1926bc54-5879-4777-bd03-40c724fbea33]: FINISHED
[debug] [2020-03-27T14:57:36.107Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:36.280Z] [runtime-status] [9989] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:36.282Z] [runtime-status] [9989] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:36.287Z] [runtime-status] [9989] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:36.290Z] [runtime-status] [9989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:36.291Z] [runtime-status] [9989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:37.110Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-03-27T14:57:37.111Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: FINISHING
[debug] [2020-03-27T14:57:37.111Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:57:37.111Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T14:57:37.130Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:37.130Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:57:37.130Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:37.130Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9998.sock
[debug] [2020-03-27T14:57:37.130Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: BUSY
[debug] [2020-03-27T14:57:37.746Z] [runtime-status] [9998] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:37.770Z] [runtime-status] [9998] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:37.773Z] [runtime-status] [9998] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:37.780Z] [runtime-status] [9998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:37.819Z] [runtime-status] [9998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:37.869Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: IDLE --> FINISHING
[debug] [2020-03-27T14:57:37.884Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: exited
[debug] [2020-03-27T14:57:37.884Z] [worker-~diagnostic~-923e24ed-a800-4a80-b49a-fff68113636d]: FINISHED
[debug] [2020-03-27T14:57:38.506Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: IDLE
[debug] [2020-03-27T14:57:38.815Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:39.820Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T14:57:39.820Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: FINISHING
[debug] [2020-03-27T14:57:39.820Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:57:39.832Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:39.832Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:57:39.832Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:39.832Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_9999.sock
[debug] [2020-03-27T14:57:39.832Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: BUSY
[debug] [2020-03-27T14:57:39.834Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: exited
[debug] [2020-03-27T14:57:39.834Z] [worker-~diagnostic~-f38e0f8b-582c-467b-a877-f1a55f0c648e]: FINISHED
[debug] [2020-03-27T14:57:40.048Z] [runtime-status] [9999] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:40.049Z] [runtime-status] [9999] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:40.051Z] [runtime-status] [9999] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:40.052Z] [runtime-status] [9999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:40.053Z] [runtime-status] [9999] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:40.494Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: IDLE
[debug] [2020-03-27T14:57:42.491Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:43.496Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T14:57:43.496Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: FINISHING
[debug] [2020-03-27T14:57:43.497Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T14:57:43.507Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:43.507Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T14:57:43.507Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:43.508Z] [worker-~diagnostic~-d01f8fee-95bf-4659-93b2-10e996bcc505]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10008.sock
[debug] [2020-03-27T14:57:43.508Z] [worker-~diagnostic~-d01f8fee-95bf-4659-93b2-10e996bcc505]: BUSY
[debug] [2020-03-27T14:57:43.509Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: exited
[debug] [2020-03-27T14:57:43.509Z] [worker-~diagnostic~-8ffffeaa-92b0-4ca1-962a-90b3944a9323]: FINISHED
[debug] [2020-03-27T14:57:43.527Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:43.748Z] [runtime-status] [10008] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:43.750Z] [runtime-status] [10008] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:43.752Z] [runtime-status] [10008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:43.753Z] [runtime-status] [10008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:43.753Z] [runtime-status] [10008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[warn] ⚠  /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:133
        return res.json({ message: `image ${}`});
                                            ^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:872:18)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)
    at Module.load (internal/modules/cjs/loader.js:790:32)
    at Function.Module._load (internal/modules/cjs/loader.js:703:12)
    at Module.require (internal/modules/cjs/loader.js:830:19)
    at require (internal/modules/cjs/helpers.js:68:18)
    at Object.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/index.js:7:36)
    at Module._compile (internal/modules/cjs/loader.js:936:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)
    at Module.load (internal/modules/cjs/loader.js:790:32)
[warn] ⚠  We were unable to load your functions code. (see above)
[debug] [2020-03-27T14:57:44.402Z] [worker-~diagnostic~-d01f8fee-95bf-4659-93b2-10e996bcc505]: exited
[debug] [2020-03-27T14:57:44.402Z] [worker-~diagnostic~-d01f8fee-95bf-4659-93b2-10e996bcc505]: FINISHED
[debug] [2020-03-27T14:57:44.528Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0
[debug] [2020-03-27T14:57:44.535Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:44.535Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-03-27T14:57:44.535Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:44.535Z] [worker-~diagnostic~-2c2c07cc-275b-4ada-a60a-34b3db57edb1]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10009.sock
[debug] [2020-03-27T14:57:44.535Z] [worker-~diagnostic~-2c2c07cc-275b-4ada-a60a-34b3db57edb1]: BUSY
[debug] [2020-03-27T14:57:44.849Z] [runtime-status] [10009] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:44.851Z] [runtime-status] [10009] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:44.856Z] [runtime-status] [10009] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:44.857Z] [runtime-status] [10009] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:44.858Z] [runtime-status] [10009] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[warn] ⚠  /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:133
        return res.json({ message: `image ${}`});
                                            ^

SyntaxError: Unexpected token }
    at Module._compile (internal/modules/cjs/loader.js:872:18)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)
    at Module.load (internal/modules/cjs/loader.js:790:32)
    at Function.Module._load (internal/modules/cjs/loader.js:703:12)
    at Module.require (internal/modules/cjs/loader.js:830:19)
    at require (internal/modules/cjs/helpers.js:68:18)
    at Object.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/index.js:7:36)
    at Module._compile (internal/modules/cjs/loader.js:936:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)
    at Module.load (internal/modules/cjs/loader.js:790:32)
[warn] ⚠  We were unable to load your functions code. (see above)
[debug] [2020-03-27T14:57:45.454Z] [worker-~diagnostic~-2c2c07cc-275b-4ada-a60a-34b3db57edb1]: exited
[debug] [2020-03-27T14:57:45.455Z] [worker-~diagnostic~-2c2c07cc-275b-4ada-a60a-34b3db57edb1]: FINISHED
[debug] [2020-03-27T14:57:48.492Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T14:57:49.492Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0
[debug] [2020-03-27T14:57:49.499Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T14:57:49.499Z] [worker-pool] Adding worker with key ~diagnostic~, total=1
[debug] [2020-03-27T14:57:49.499Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T14:57:49.500Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10019.sock
[debug] [2020-03-27T14:57:49.500Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: BUSY
[debug] [2020-03-27T14:57:49.717Z] [runtime-status] [10019] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:57:49.719Z] [runtime-status] [10019] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:57:49.720Z] [runtime-status] [10019] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:57:49.721Z] [runtime-status] [10019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:49.722Z] [runtime-status] [10019] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:57:50.281Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: IDLE
[debug] [2020-03-27T14:58:01.518Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T14:58:01.519Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T14:58:01.519Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T14:58:01.525Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T14:58:01.525Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T14:58:01.525Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T14:58:01.525Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10029.sock
[debug] [2020-03-27T14:58:01.525Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: BUSY
[debug] [2020-03-27T14:58:02.198Z] [runtime-status] [10029] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T14:58:02.202Z] [runtime-status] [10029] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T14:58:02.208Z] [runtime-status] [10029] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T14:58:02.209Z] [runtime-status] [10029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:58:02.209Z] [runtime-status] [10029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T14:58:03.566Z] [runtime-status] [10029] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T14:58:03.569Z] [runtime-status] [10029] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T14:58:03.569Z] [runtime-status] [10029] Running api in mode HTTPS
[debug] [2020-03-27T14:58:03.572Z] [runtime-status] [10029] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10029.sock
[debug] [2020-03-27T14:58:03.575Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T14:58:03.590Z] [runtime-status] [10029] Ephemeral server handling POST request
[debug] [2020-03-27T14:58:03.670Z] [runtime-status] [10029] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T14:58:05.025Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: IDLE
[debug] [2020-03-27T14:58:05.026Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:01:19.845Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:01:20.848Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:01:20.849Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: FINISHING
[debug] [2020-03-27T15:01:20.849Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:01:20.849Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: FINISHING
[debug] [2020-03-27T15:01:21.034Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:01:21.034Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:01:21.034Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:01:21.035Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10066.sock
[debug] [2020-03-27T15:01:21.035Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: BUSY
[debug] [2020-03-27T15:01:21.039Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: exited
[debug] [2020-03-27T15:01:21.042Z] [worker-~diagnostic~-b37ec6f6-5c0c-423b-bc12-71b24b7e3e21]: FINISHED
[debug] [2020-03-27T15:01:21.042Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: exited
[debug] [2020-03-27T15:01:21.042Z] [worker-api-8f0b52b9-fdce-4f1d-9784-2d9cc6a38adc]: FINISHED
[debug] [2020-03-27T15:01:22.333Z] [runtime-status] [10066] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:01:22.335Z] [runtime-status] [10066] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:01:22.339Z] [runtime-status] [10066] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:01:22.341Z] [runtime-status] [10066] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:22.343Z] [runtime-status] [10066] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:22.453Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:01:22.453Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:01:22.453Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:01:22.453Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:01:22.453Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:01:22.462Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:01:22.462Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:01:22.462Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:01:22.463Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10075.sock
[debug] [2020-03-27T15:01:22.463Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: BUSY
[debug] [2020-03-27T15:01:22.917Z] [runtime-status] [10075] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:01:22.919Z] [runtime-status] [10075] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:01:22.922Z] [runtime-status] [10075] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:01:22.924Z] [runtime-status] [10075] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:22.926Z] [runtime-status] [10075] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:24.232Z] [runtime-status] [10075] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:01:24.233Z] [runtime-status] [10075] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:01:24.233Z] [runtime-status] [10075] Running api in mode HTTPS
[debug] [2020-03-27T15:01:24.233Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: IDLE
[debug] [2020-03-27T15:01:24.237Z] [runtime-status] [10075] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10075.sock
[debug] [2020-03-27T15:01:24.244Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:01:24.260Z] [runtime-status] [10075] Ephemeral server handling POST request
[debug] [2020-03-27T15:01:24.335Z] [runtime-status] [10075] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:01:25.670Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: IDLE
[debug] [2020-03-27T15:01:25.670Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:01:45.737Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:01:46.738Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:01:46.738Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: FINISHING
[debug] [2020-03-27T15:01:46.738Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:01:46.738Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: FINISHING
[debug] [2020-03-27T15:01:46.752Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:01:46.752Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:01:46.752Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:01:46.753Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10081.sock
[debug] [2020-03-27T15:01:46.753Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: BUSY
[debug] [2020-03-27T15:01:46.754Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: exited
[debug] [2020-03-27T15:01:46.754Z] [worker-~diagnostic~-528f8f69-a592-480f-afe6-6fb76e21ea32]: FINISHED
[debug] [2020-03-27T15:01:46.756Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: exited
[debug] [2020-03-27T15:01:46.756Z] [worker-api-a6646df3-b324-48ea-8b56-3879002c5ed6]: FINISHED
[debug] [2020-03-27T15:01:47.128Z] [runtime-status] [10081] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:01:47.130Z] [runtime-status] [10081] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:01:47.136Z] [runtime-status] [10081] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:01:47.138Z] [runtime-status] [10081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:47.142Z] [runtime-status] [10081] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:01:47.734Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: IDLE
[debug] [2020-03-27T15:02:03.543Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:02:04.545Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:02:04.545Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: FINISHING
[debug] [2020-03-27T15:02:04.546Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:02:04.546Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:02:04.553Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:02:04.553Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:02:04.553Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:02:04.553Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10092.sock
[debug] [2020-03-27T15:02:04.553Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: BUSY
[debug] [2020-03-27T15:02:04.554Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: exited
[debug] [2020-03-27T15:02:04.554Z] [worker-~diagnostic~-78141136-86ac-4b3c-b787-0e292f194223]: FINISHED
[debug] [2020-03-27T15:02:04.936Z] [runtime-status] [10092] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:04.940Z] [runtime-status] [10092] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:04.947Z] [runtime-status] [10092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:04.949Z] [runtime-status] [10092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:04.950Z] [runtime-status] [10092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:05.774Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: IDLE
[debug] [2020-03-27T15:02:15.392Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:02:15.393Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:02:15.393Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:02:15.393Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:02:15.400Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:02:15.400Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:02:15.400Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:02:15.401Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10102.sock
[debug] [2020-03-27T15:02:15.401Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: BUSY
[debug] [2020-03-27T15:02:15.991Z] [runtime-status] [10102] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:15.993Z] [runtime-status] [10102] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:15.998Z] [runtime-status] [10102] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:15.999Z] [runtime-status] [10102] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:16.000Z] [runtime-status] [10102] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:17.343Z] [runtime-status] [10102] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:02:17.343Z] [runtime-status] [10102] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:02:17.343Z] [runtime-status] [10102] Running api in mode HTTPS
[debug] [2020-03-27T15:02:17.348Z] [runtime-status] [10102] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10102.sock
[debug] [2020-03-27T15:02:17.352Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:02:17.370Z] [runtime-status] [10102] Ephemeral server handling POST request
[debug] [2020-03-27T15:02:17.447Z] [runtime-status] [10102] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: 5 NOT_FOUND: No document to update: projects/rundat-e0a41/databases/(default)/documents/users/xsFc5u7cPaWYSY5hRp6bacrpUjL2
[info] >      at Object.callErrorFromStatus (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call.js:30:26)
[info] >      at Http2CallStream.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/client.js:96:33)
[info] >      at Http2CallStream.emit (events.js:214:15)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:100:22
[info] >      at processTicksAndRejections (internal/process/task_queues.js:75:11) {
[info] >    code: 5,
[info] >    details: 'No document to update: projects/rundat-e0a41/databases/(default)/documents/users/xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    metadata: Metadata { internalRepr: Map {}, options: {} }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:02:18.778Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: IDLE
[debug] [2020-03-27T15:02:18.778Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:02:26.900Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:02:27.906Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:02:27.906Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: FINISHING
[debug] [2020-03-27T15:02:27.906Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:02:27.907Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: FINISHING
[debug] [2020-03-27T15:02:27.923Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:02:27.924Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:02:27.924Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:02:27.924Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10106.sock
[debug] [2020-03-27T15:02:27.924Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: BUSY
[debug] [2020-03-27T15:02:27.925Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: exited
[debug] [2020-03-27T15:02:27.925Z] [worker-~diagnostic~-8f959729-f3a8-47b0-ac06-228a3c2f6bdc]: FINISHED
[debug] [2020-03-27T15:02:27.925Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: exited
[debug] [2020-03-27T15:02:27.925Z] [worker-api-635242ca-888a-400e-93d1-be9042465978]: FINISHED
[debug] [2020-03-27T15:02:28.480Z] [runtime-status] [10106] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:28.482Z] [runtime-status] [10106] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:28.485Z] [runtime-status] [10106] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:28.486Z] [runtime-status] [10106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:28.487Z] [runtime-status] [10106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:30.265Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: IDLE
[debug] [2020-03-27T15:02:30.793Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:02:30.793Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:02:30.793Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:02:30.793Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:02:30.793Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:02:30.799Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:02:30.799Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:02:30.799Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:02:30.799Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10116.sock
[debug] [2020-03-27T15:02:30.799Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: BUSY
[debug] [2020-03-27T15:02:31.076Z] [runtime-status] [10116] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:31.079Z] [runtime-status] [10116] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:31.081Z] [runtime-status] [10116] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:31.082Z] [runtime-status] [10116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:31.083Z] [runtime-status] [10116] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:31.636Z] [runtime-status] [10116] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:02:31.636Z] [runtime-status] [10116] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:02:31.636Z] [runtime-status] [10116] Running api in mode HTTPS
[debug] [2020-03-27T15:02:31.640Z] [runtime-status] [10116] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10116.sock
[debug] [2020-03-27T15:02:31.642Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:02:31.657Z] [runtime-status] [10116] Ephemeral server handling POST request
[debug] [2020-03-27T15:02:31.705Z] [runtime-status] [10116] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~2s
[debug] [2020-03-27T15:02:34.146Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: IDLE
[debug] [2020-03-27T15:02:34.146Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:02:52.561Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:02:53.562Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:02:53.562Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: FINISHING
[debug] [2020-03-27T15:02:53.562Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:02:53.562Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: FINISHING
[debug] [2020-03-27T15:02:53.584Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:02:53.584Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:02:53.584Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:02:53.584Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10120.sock
[debug] [2020-03-27T15:02:53.584Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: BUSY
[debug] [2020-03-27T15:02:53.588Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: exited
[debug] [2020-03-27T15:02:53.588Z] [worker-~diagnostic~-f0a662d4-7d66-41f0-bab3-57a6e9102b22]: FINISHED
[debug] [2020-03-27T15:02:53.588Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: exited
[debug] [2020-03-27T15:02:53.588Z] [worker-api-6bd22f4c-fe16-445a-9c8b-ace5e2708ff8]: FINISHED
[debug] [2020-03-27T15:02:54.021Z] [runtime-status] [10120] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:54.025Z] [runtime-status] [10120] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:54.029Z] [runtime-status] [10120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:54.031Z] [runtime-status] [10120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:54.033Z] [runtime-status] [10120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:54.583Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:02:54.583Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:02:54.583Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:02:54.583Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:02:54.583Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:02:54.590Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:02:54.591Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:02:54.591Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:02:54.591Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10130.sock
[debug] [2020-03-27T15:02:54.592Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: BUSY
[debug] [2020-03-27T15:02:54.814Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: IDLE
[debug] [2020-03-27T15:02:54.874Z] [runtime-status] [10130] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:02:54.875Z] [runtime-status] [10130] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:02:54.877Z] [runtime-status] [10130] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:02:54.878Z] [runtime-status] [10130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:54.879Z] [runtime-status] [10130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:02:55.724Z] [runtime-status] [10130] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:02:55.727Z] [runtime-status] [10130] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:02:55.727Z] [runtime-status] [10130] Running api in mode HTTPS
[debug] [2020-03-27T15:02:55.743Z] [runtime-status] [10130] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10130.sock
[debug] [2020-03-27T15:02:55.747Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:02:55.773Z] [runtime-status] [10130] Ephemeral server handling POST request
[debug] [2020-03-27T15:02:55.898Z] [runtime-status] [10130] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:02:57.240Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: IDLE
[debug] [2020-03-27T15:02:57.240Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:03:31.626Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:32.630Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:32.631Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: FINISHING
[debug] [2020-03-27T15:03:32.631Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:03:32.631Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: FINISHING
[debug] [2020-03-27T15:03:32.649Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:32.649Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:32.649Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:32.649Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10139.sock
[debug] [2020-03-27T15:03:32.649Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: BUSY
[debug] [2020-03-27T15:03:32.651Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: exited
[debug] [2020-03-27T15:03:32.651Z] [worker-~diagnostic~-08afaf9e-968c-49c9-b323-ca3ef035326c]: FINISHED
[debug] [2020-03-27T15:03:32.651Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: exited
[debug] [2020-03-27T15:03:32.651Z] [worker-api-f7d67838-59f8-4892-85a2-562291ac12fa]: FINISHED
[debug] [2020-03-27T15:03:33.320Z] [runtime-status] [10139] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:33.324Z] [runtime-status] [10139] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:33.328Z] [runtime-status] [10139] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:33.330Z] [runtime-status] [10139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:33.331Z] [runtime-status] [10139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:35.053Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: IDLE
[debug] [2020-03-27T15:03:37.622Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:38.623Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:38.623Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: FINISHING
[debug] [2020-03-27T15:03:38.624Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:38.624Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:03:38.631Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:38.631Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:38.631Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:38.634Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10149.sock
[debug] [2020-03-27T15:03:38.634Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: BUSY
[debug] [2020-03-27T15:03:38.636Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: exited
[debug] [2020-03-27T15:03:38.636Z] [worker-~diagnostic~-fc48e86f-6760-44c5-beaa-fbe8b79ab03e]: FINISHED
[debug] [2020-03-27T15:03:38.879Z] [runtime-status] [10149] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:38.882Z] [runtime-status] [10149] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:38.882Z] [runtime-status] [10149] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:38.886Z] [runtime-status] [10149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:38.886Z] [runtime-status] [10149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:39.370Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: IDLE
[debug] [2020-03-27T15:03:41.648Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:42.654Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:42.654Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: FINISHING
[debug] [2020-03-27T15:03:42.654Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:42.661Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:42.661Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:42.661Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:42.662Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10158.sock
[debug] [2020-03-27T15:03:42.662Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: BUSY
[debug] [2020-03-27T15:03:42.663Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: exited
[debug] [2020-03-27T15:03:42.663Z] [worker-~diagnostic~-74c8ca91-adf4-44b9-8209-1b60101597bc]: FINISHED
[debug] [2020-03-27T15:03:42.887Z] [runtime-status] [10158] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:42.890Z] [runtime-status] [10158] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:42.891Z] [runtime-status] [10158] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:42.892Z] [runtime-status] [10158] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:42.892Z] [runtime-status] [10158] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:43.380Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: IDLE
[debug] [2020-03-27T15:03:45.107Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:46.113Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:46.113Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: FINISHING
[debug] [2020-03-27T15:03:46.113Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:46.121Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:46.121Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:46.121Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:46.121Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10168.sock
[debug] [2020-03-27T15:03:46.121Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: BUSY
[debug] [2020-03-27T15:03:46.123Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: exited
[debug] [2020-03-27T15:03:46.123Z] [worker-~diagnostic~-b1fedd51-40cf-4ce9-852b-c508eab95095]: FINISHED
[debug] [2020-03-27T15:03:46.340Z] [runtime-status] [10168] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:46.342Z] [runtime-status] [10168] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:46.343Z] [runtime-status] [10168] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:46.344Z] [runtime-status] [10168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:46.345Z] [runtime-status] [10168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:46.512Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:47.250Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: IDLE
[debug] [2020-03-27T15:03:47.515Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:47.516Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: FINISHING
[debug] [2020-03-27T15:03:47.516Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:47.523Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:47.524Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:47.524Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:47.524Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10169.sock
[debug] [2020-03-27T15:03:47.524Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: BUSY
[debug] [2020-03-27T15:03:47.526Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: exited
[debug] [2020-03-27T15:03:47.526Z] [worker-~diagnostic~-44b887d2-cc5a-4f4e-b7e7-23bc8f66bd34]: FINISHED
[debug] [2020-03-27T15:03:47.768Z] [runtime-status] [10169] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:47.770Z] [runtime-status] [10169] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:47.772Z] [runtime-status] [10169] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:47.773Z] [runtime-status] [10169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:47.774Z] [runtime-status] [10169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:48.045Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:48.333Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: IDLE
[debug] [2020-03-27T15:03:49.048Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:49.048Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: FINISHING
[debug] [2020-03-27T15:03:49.048Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:49.056Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:49.056Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:49.056Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:49.056Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10178.sock
[debug] [2020-03-27T15:03:49.057Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: BUSY
[debug] [2020-03-27T15:03:49.058Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: exited
[debug] [2020-03-27T15:03:49.058Z] [worker-~diagnostic~-3a7568c4-f27b-4e7b-b795-f263cfda3e84]: FINISHED
[debug] [2020-03-27T15:03:49.434Z] [runtime-status] [10178] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:49.451Z] [runtime-status] [10178] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:49.456Z] [runtime-status] [10178] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:49.457Z] [runtime-status] [10178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:49.458Z] [runtime-status] [10178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:49.602Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:03:50.563Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: IDLE
[debug] [2020-03-27T15:03:50.605Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:03:50.605Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: FINISHING
[debug] [2020-03-27T15:03:50.605Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:50.612Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:03:50.612Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:03:50.612Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:03:50.612Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10179.sock
[debug] [2020-03-27T15:03:50.612Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: BUSY
[debug] [2020-03-27T15:03:50.613Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: exited
[debug] [2020-03-27T15:03:50.614Z] [worker-~diagnostic~-1063aa3a-0354-4ec5-9b86-9dfcd9d8ff54]: FINISHED
[debug] [2020-03-27T15:03:50.847Z] [runtime-status] [10179] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:50.848Z] [runtime-status] [10179] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:50.851Z] [runtime-status] [10179] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:50.852Z] [runtime-status] [10179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:50.853Z] [runtime-status] [10179] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:51.335Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: IDLE
[debug] [2020-03-27T15:03:52.835Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:03:52.835Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:03:52.835Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:03:52.835Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:03:52.840Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:03:52.840Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:03:52.840Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:03:52.840Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10180.sock
[debug] [2020-03-27T15:03:52.840Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: BUSY
[debug] [2020-03-27T15:03:53.109Z] [runtime-status] [10180] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:03:53.111Z] [runtime-status] [10180] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:03:53.113Z] [runtime-status] [10180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:03:53.114Z] [runtime-status] [10180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:53.115Z] [runtime-status] [10180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:03:53.680Z] [runtime-status] [10180] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:03:53.681Z] [runtime-status] [10180] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:03:53.681Z] [runtime-status] [10180] Running api in mode HTTPS
[debug] [2020-03-27T15:03:53.684Z] [runtime-status] [10180] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10180.sock
[debug] [2020-03-27T15:03:53.687Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:03:53.699Z] [runtime-status] [10180] Ephemeral server handling POST request
[debug] [2020-03-27T15:03:53.775Z] [runtime-status] [10180] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:03:55.565Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: IDLE
[debug] [2020-03-27T15:03:55.565Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:04:06.784Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:04:07.790Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:04:07.790Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: FINISHING
[debug] [2020-03-27T15:04:07.790Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:04:07.790Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: FINISHING
[debug] [2020-03-27T15:04:07.806Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:04:07.806Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:04:07.806Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:04:07.806Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10191.sock
[debug] [2020-03-27T15:04:07.807Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: BUSY
[debug] [2020-03-27T15:04:07.808Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: exited
[debug] [2020-03-27T15:04:07.808Z] [worker-~diagnostic~-4bfdd933-56ef-483d-9881-64e3681baa93]: FINISHED
[debug] [2020-03-27T15:04:07.808Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: exited
[debug] [2020-03-27T15:04:07.808Z] [worker-api-3f7f8c4c-2daa-4df8-be14-168fab91807a]: FINISHED
[debug] [2020-03-27T15:04:08.098Z] [runtime-status] [10191] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:08.100Z] [runtime-status] [10191] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:08.102Z] [runtime-status] [10191] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:08.103Z] [runtime-status] [10191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:08.103Z] [runtime-status] [10191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:08.672Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: IDLE
[debug] [2020-03-27T15:04:40.643Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:04:41.649Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:04:41.649Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: FINISHING
[debug] [2020-03-27T15:04:41.650Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:04:41.650Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:04:41.667Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:04:41.667Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:04:41.667Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:04:41.667Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10206.sock
[debug] [2020-03-27T15:04:41.667Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: BUSY
[debug] [2020-03-27T15:04:41.674Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: exited
[debug] [2020-03-27T15:04:41.674Z] [worker-~diagnostic~-f36f21e2-11c4-41d1-8bfd-ba1fe3d2142f]: FINISHED
[debug] [2020-03-27T15:04:42.030Z] [runtime-status] [10206] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:42.033Z] [runtime-status] [10206] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:42.035Z] [runtime-status] [10206] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:42.036Z] [runtime-status] [10206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:42.037Z] [runtime-status] [10206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:43.032Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: IDLE
[debug] [2020-03-27T15:04:43.313Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:04:44.315Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:04:44.315Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: FINISHING
[debug] [2020-03-27T15:04:44.315Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:04:44.323Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:04:44.324Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:04:44.324Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:04:44.324Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10215.sock
[debug] [2020-03-27T15:04:44.324Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: BUSY
[debug] [2020-03-27T15:04:44.325Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: exited
[debug] [2020-03-27T15:04:44.325Z] [worker-~diagnostic~-fd917610-60a6-41a1-867e-536852d6c4f6]: FINISHED
[debug] [2020-03-27T15:04:44.451Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:04:44.592Z] [runtime-status] [10215] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:44.600Z] [runtime-status] [10215] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:44.601Z] [runtime-status] [10215] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:44.601Z] [runtime-status] [10215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:44.601Z] [runtime-status] [10215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:45.452Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-03-27T15:04:45.452Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: FINISHING
[debug] [2020-03-27T15:04:45.452Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:04:45.456Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:04:45.456Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:04:45.456Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:04:45.456Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10216.sock
[debug] [2020-03-27T15:04:45.456Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: BUSY
[debug] [2020-03-27T15:04:45.587Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: IDLE --> FINISHING
[debug] [2020-03-27T15:04:45.593Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: exited
[debug] [2020-03-27T15:04:45.593Z] [worker-~diagnostic~-7ce96429-faa1-4902-8f96-7553b45da6b3]: FINISHED
[debug] [2020-03-27T15:04:45.681Z] [runtime-status] [10216] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:45.682Z] [runtime-status] [10216] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:45.684Z] [runtime-status] [10216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:45.685Z] [runtime-status] [10216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:45.686Z] [runtime-status] [10216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:46.518Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: IDLE
[debug] [2020-03-27T15:04:46.834Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:04:47.834Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:04:47.834Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: FINISHING
[debug] [2020-03-27T15:04:47.834Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:04:47.842Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:04:47.842Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:04:47.842Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:04:47.843Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10226.sock
[debug] [2020-03-27T15:04:47.843Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: BUSY
[debug] [2020-03-27T15:04:47.844Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: exited
[debug] [2020-03-27T15:04:47.844Z] [worker-~diagnostic~-6b28fe1b-5689-4efe-bd0f-dd5f617571ab]: FINISHED
[debug] [2020-03-27T15:04:48.125Z] [runtime-status] [10226] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:48.127Z] [runtime-status] [10226] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:48.129Z] [runtime-status] [10226] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:48.130Z] [runtime-status] [10226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:48.132Z] [runtime-status] [10226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:48.609Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:04:48.609Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:04:48.610Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:04:48.610Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:04:48.622Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:04:48.622Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:04:48.622Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:04:48.622Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10227.sock
[debug] [2020-03-27T15:04:48.622Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: BUSY
[debug] [2020-03-27T15:04:48.721Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: IDLE
[debug] [2020-03-27T15:04:48.899Z] [runtime-status] [10227] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:04:48.901Z] [runtime-status] [10227] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:04:48.904Z] [runtime-status] [10227] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:04:48.905Z] [runtime-status] [10227] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:48.906Z] [runtime-status] [10227] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:04:49.583Z] [runtime-status] [10227] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:04:49.583Z] [runtime-status] [10227] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:04:49.583Z] [runtime-status] [10227] Running api in mode HTTPS
[debug] [2020-03-27T15:04:49.587Z] [runtime-status] [10227] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10227.sock
[debug] [2020-03-27T15:04:49.590Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:04:49.603Z] [runtime-status] [10227] Ephemeral server handling POST request
[debug] [2020-03-27T15:04:49.704Z] [runtime-status] [10227] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  ReferenceError: imageUrl is not defined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:133:45
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:04:51.500Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: IDLE
[debug] [2020-03-27T15:04:51.500Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:05:19.552Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:05:20.553Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:05:20.554Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: FINISHING
[debug] [2020-03-27T15:05:20.554Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:05:20.554Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: FINISHING
[debug] [2020-03-27T15:05:20.573Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:05:20.580Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:05:20.580Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:05:20.580Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10244.sock
[debug] [2020-03-27T15:05:20.580Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: BUSY
[debug] [2020-03-27T15:05:20.582Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: exited
[debug] [2020-03-27T15:05:20.582Z] [worker-~diagnostic~-5565fdf9-751f-415b-aadd-4c96f4b3b089]: FINISHED
[debug] [2020-03-27T15:05:20.582Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: exited
[debug] [2020-03-27T15:05:20.582Z] [worker-api-3b570856-e189-4c52-bbad-4848fece2d50]: FINISHED
[debug] [2020-03-27T15:05:21.532Z] [runtime-status] [10244] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:05:21.534Z] [runtime-status] [10244] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:05:21.541Z] [runtime-status] [10244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:05:21.545Z] [runtime-status] [10244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:21.547Z] [runtime-status] [10244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:23.361Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: IDLE
[debug] [2020-03-27T15:05:29.131Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:05:29.219Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:05:30.221Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:05:30.222Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: FINISHING
[debug] [2020-03-27T15:05:30.222Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:05:30.222Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:05:30.229Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:05:30.230Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:05:30.230Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:05:30.230Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10254.sock
[debug] [2020-03-27T15:05:30.230Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: BUSY
[debug] [2020-03-27T15:05:30.232Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: exited
[debug] [2020-03-27T15:05:30.232Z] [worker-~diagnostic~-8738339b-c9b3-44e9-81fc-feac633b66ef]: FINISHED
[debug] [2020-03-27T15:05:30.699Z] [runtime-status] [10254] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:05:30.702Z] [runtime-status] [10254] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:05:30.705Z] [runtime-status] [10254] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:05:30.706Z] [runtime-status] [10254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:30.708Z] [runtime-status] [10254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:31.520Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:05:31.790Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: IDLE
[debug] [2020-03-27T15:05:32.522Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:05:32.522Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: FINISHING
[debug] [2020-03-27T15:05:32.522Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:05:32.540Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:05:32.540Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:05:32.540Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:05:32.540Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10263.sock
[debug] [2020-03-27T15:05:32.540Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: BUSY
[debug] [2020-03-27T15:05:32.606Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: exited
[debug] [2020-03-27T15:05:32.606Z] [worker-~diagnostic~-72574284-4109-4121-bdb9-f55b5a2068c7]: FINISHED
[debug] [2020-03-27T15:05:33.095Z] [runtime-status] [10263] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:05:33.097Z] [runtime-status] [10263] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:05:33.099Z] [runtime-status] [10263] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:05:33.101Z] [runtime-status] [10263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:33.102Z] [runtime-status] [10263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:33.568Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:05:33.570Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:05:33.570Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:05:33.570Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:05:33.575Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:05:33.575Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:05:33.575Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:05:33.576Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10264.sock
[debug] [2020-03-27T15:05:33.576Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: BUSY
[debug] [2020-03-27T15:05:33.987Z] [runtime-status] [10264] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:05:33.989Z] [runtime-status] [10264] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:05:33.991Z] [runtime-status] [10264] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:05:33.992Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:33.995Z] [runtime-status] [10264] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:34.016Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: IDLE
[debug] [2020-03-27T15:05:34.653Z] [runtime-status] [10264] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:05:34.654Z] [runtime-status] [10264] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:05:34.654Z] [runtime-status] [10264] Running api in mode HTTPS
[debug] [2020-03-27T15:05:34.658Z] [runtime-status] [10264] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10264.sock
[debug] [2020-03-27T15:05:34.663Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:05:34.681Z] [runtime-status] [10264] Ephemeral server handling POST request
[debug] [2020-03-27T15:05:34.786Z] [runtime-status] [10264] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:05:36.133Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: IDLE
[debug] [2020-03-27T15:05:36.133Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:05:58.248Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:05:59.252Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:05:59.252Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: FINISHING
[debug] [2020-03-27T15:05:59.252Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:05:59.252Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: FINISHING
[debug] [2020-03-27T15:05:59.266Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:05:59.266Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:05:59.266Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:05:59.266Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10276.sock
[debug] [2020-03-27T15:05:59.266Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: BUSY
[debug] [2020-03-27T15:05:59.267Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: exited
[debug] [2020-03-27T15:05:59.267Z] [worker-~diagnostic~-6a625ba6-7634-4297-bc81-ac611f4b6310]: FINISHED
[debug] [2020-03-27T15:05:59.267Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: exited
[debug] [2020-03-27T15:05:59.267Z] [worker-api-86feb673-3e6d-45a4-94e7-e974e5294537]: FINISHED
[debug] [2020-03-27T15:05:59.652Z] [runtime-status] [10276] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:05:59.660Z] [runtime-status] [10276] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:05:59.679Z] [runtime-status] [10276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:05:59.694Z] [runtime-status] [10276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:05:59.703Z] [runtime-status] [10276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:00.494Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: IDLE
[debug] [2020-03-27T15:06:00.786Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:06:01.791Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:06:01.792Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: FINISHING
[debug] [2020-03-27T15:06:01.792Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:06:01.792Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:06:01.802Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:06:01.802Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:06:01.802Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:06:01.802Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10285.sock
[debug] [2020-03-27T15:06:01.802Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: BUSY
[debug] [2020-03-27T15:06:01.804Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: exited
[debug] [2020-03-27T15:06:01.804Z] [worker-~diagnostic~-f9acaee6-4738-4a34-9576-5f73d0247b22]: FINISHED
[debug] [2020-03-27T15:06:02.059Z] [runtime-status] [10285] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:02.060Z] [runtime-status] [10285] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:02.062Z] [runtime-status] [10285] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:02.063Z] [runtime-status] [10285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:02.064Z] [runtime-status] [10285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:02.577Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: IDLE
[debug] [2020-03-27T15:06:08.841Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:06:09.843Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:06:09.843Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: FINISHING
[debug] [2020-03-27T15:06:09.843Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:06:09.854Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:06:09.854Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:06:09.854Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:06:09.854Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10295.sock
[debug] [2020-03-27T15:06:09.854Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: BUSY
[debug] [2020-03-27T15:06:09.856Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: exited
[debug] [2020-03-27T15:06:09.856Z] [worker-~diagnostic~-b7981647-e033-4221-9ffb-1b22ccca7b22]: FINISHED
[debug] [2020-03-27T15:06:10.167Z] [runtime-status] [10295] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:10.168Z] [runtime-status] [10295] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:10.170Z] [runtime-status] [10295] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:10.171Z] [runtime-status] [10295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:10.172Z] [runtime-status] [10295] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:10.835Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: IDLE
[debug] [2020-03-27T15:06:12.406Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:06:13.408Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:06:13.408Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: FINISHING
[debug] [2020-03-27T15:06:13.408Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:06:13.417Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:06:13.418Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:06:13.418Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:06:13.418Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10304.sock
[debug] [2020-03-27T15:06:13.419Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: BUSY
[debug] [2020-03-27T15:06:13.419Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: exited
[debug] [2020-03-27T15:06:13.420Z] [worker-~diagnostic~-a6c41ddb-70fd-4033-ae63-7a4d1aa52d6a]: FINISHED
[debug] [2020-03-27T15:06:13.842Z] [runtime-status] [10304] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:13.844Z] [runtime-status] [10304] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:13.846Z] [runtime-status] [10304] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:13.850Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:13.851Z] [runtime-status] [10304] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:14.416Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: IDLE
[debug] [2020-03-27T15:06:23.654Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:06:23.654Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:06:23.654Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:06:23.657Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:06:23.661Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:06:23.661Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:06:23.661Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:06:23.661Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10314.sock
[debug] [2020-03-27T15:06:23.661Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: BUSY
[debug] [2020-03-27T15:06:23.972Z] [runtime-status] [10314] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:23.975Z] [runtime-status] [10314] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:23.977Z] [runtime-status] [10314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:23.979Z] [runtime-status] [10314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:23.980Z] [runtime-status] [10314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:24.710Z] [runtime-status] [10314] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:06:24.711Z] [runtime-status] [10314] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:06:24.711Z] [runtime-status] [10314] Running api in mode HTTPS
[debug] [2020-03-27T15:06:24.715Z] [runtime-status] [10314] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10314.sock
[debug] [2020-03-27T15:06:24.718Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:06:24.737Z] [runtime-status] [10314] Ephemeral server handling POST request
[debug] [2020-03-27T15:06:24.813Z] [runtime-status] [10314] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  ReferenceError: imageUrl is not defined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:135:45
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:06:26.174Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: IDLE
[debug] [2020-03-27T15:06:26.174Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:06:38.689Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:06:38.689Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:06:38.689Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:06:38.689Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:06:38.689Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10314.sock
[debug] [2020-03-27T15:06:38.690Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: BUSY
[debug] [2020-03-27T15:06:38.691Z] [runtime-status] [10314] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:06:38.692Z] [runtime-status] [10314] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:06:38.692Z] [runtime-status] [10314] Running api in mode HTTPS
[debug] [2020-03-27T15:06:38.692Z] [runtime-status] [10314] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10314.sock
[debug] [2020-03-27T15:06:38.692Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:06:38.702Z] [runtime-status] [10314] Ephemeral server handling POST request
[debug] [2020-03-27T15:06:38.702Z] [runtime-status] [10314] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[debug] [2020-03-27T15:06:38.779Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  ReferenceError: imageUrl is not defined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:135:45
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:06:39.318Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: IDLE
[debug] [2020-03-27T15:06:39.318Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:06:39.782Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:06:39.782Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: FINISHING
[debug] [2020-03-27T15:06:39.783Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:06:39.783Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: FINISHING
[debug] [2020-03-27T15:06:39.798Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:06:39.798Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:06:39.799Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:06:39.799Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10317.sock
[debug] [2020-03-27T15:06:39.799Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: BUSY
[debug] [2020-03-27T15:06:39.801Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: exited
[debug] [2020-03-27T15:06:39.801Z] [worker-~diagnostic~-411af1bd-f404-4bf9-ad7b-943facf520cc]: FINISHED
[debug] [2020-03-27T15:06:39.801Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: exited
[debug] [2020-03-27T15:06:39.801Z] [worker-api-9a33b406-af59-4d38-b627-9c75aa336574]: FINISHED
[debug] [2020-03-27T15:06:40.051Z] [runtime-status] [10317] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:40.052Z] [runtime-status] [10317] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:40.054Z] [runtime-status] [10317] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:40.055Z] [runtime-status] [10317] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:40.056Z] [runtime-status] [10317] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:40.549Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: IDLE
[debug] [2020-03-27T15:06:41.916Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:06:41.916Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:06:41.917Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:06:41.917Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:06:41.917Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:06:41.921Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:06:41.922Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:06:41.922Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:06:41.922Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10318.sock
[debug] [2020-03-27T15:06:41.922Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: BUSY
[debug] [2020-03-27T15:06:42.249Z] [runtime-status] [10318] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:06:42.253Z] [runtime-status] [10318] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:06:42.255Z] [runtime-status] [10318] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:06:42.257Z] [runtime-status] [10318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:42.258Z] [runtime-status] [10318] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:06:42.992Z] [runtime-status] [10318] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:06:42.993Z] [runtime-status] [10318] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:06:42.993Z] [runtime-status] [10318] Running api in mode HTTPS
[debug] [2020-03-27T15:06:42.999Z] [runtime-status] [10318] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10318.sock
[debug] [2020-03-27T15:06:43.002Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:06:43.017Z] [runtime-status] [10318] Ephemeral server handling POST request
[debug] [2020-03-27T15:06:43.061Z] [runtime-status] [10318] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:06:44.430Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: IDLE
[debug] [2020-03-27T15:06:44.431Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:07:16.991Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:07:17.991Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:07:17.991Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: FINISHING
[debug] [2020-03-27T15:07:17.991Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:07:17.991Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: FINISHING
[debug] [2020-03-27T15:07:18.009Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:07:18.009Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:07:18.009Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:07:18.010Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10331.sock
[debug] [2020-03-27T15:07:18.010Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: BUSY
[debug] [2020-03-27T15:07:18.011Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: exited
[debug] [2020-03-27T15:07:18.011Z] [worker-~diagnostic~-e4991ec4-37f7-484a-9904-b0dead93514a]: FINISHED
[debug] [2020-03-27T15:07:18.011Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: exited
[debug] [2020-03-27T15:07:18.011Z] [worker-api-0d41f0da-eefd-4a04-8583-d166509e45f1]: FINISHED
[debug] [2020-03-27T15:07:18.375Z] [runtime-status] [10331] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:07:18.377Z] [runtime-status] [10331] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:07:18.379Z] [runtime-status] [10331] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:07:18.381Z] [runtime-status] [10331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:18.382Z] [runtime-status] [10331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:19.097Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:07:19.196Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:07:20.198Z] [worker-pool] Marking BUSY worker to finish (~diagnostic~)
[debug] [2020-03-27T15:07:20.198Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: FINISHING
[debug] [2020-03-27T15:07:20.198Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:07:20.198Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:07:20.206Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:07:20.206Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:07:20.206Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:07:20.206Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10340.sock
[debug] [2020-03-27T15:07:20.207Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: BUSY
[debug] [2020-03-27T15:07:20.378Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: IDLE --> FINISHING
[debug] [2020-03-27T15:07:20.391Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: exited
[debug] [2020-03-27T15:07:20.391Z] [worker-~diagnostic~-9457c21b-f2e5-4da8-9555-1546ecba30c6]: FINISHED
[debug] [2020-03-27T15:07:20.546Z] [runtime-status] [10340] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:07:20.549Z] [runtime-status] [10340] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:07:20.551Z] [runtime-status] [10340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:07:20.552Z] [runtime-status] [10340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:20.553Z] [runtime-status] [10340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:21.064Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:07:21.064Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:07:21.064Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:07:21.064Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:07:21.069Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:07:21.069Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:07:21.070Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:07:21.070Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10341.sock
[debug] [2020-03-27T15:07:21.070Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: BUSY
[debug] [2020-03-27T15:07:21.285Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: IDLE
[debug] [2020-03-27T15:07:21.359Z] [runtime-status] [10341] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:07:21.360Z] [runtime-status] [10341] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:07:21.363Z] [runtime-status] [10341] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:07:21.368Z] [runtime-status] [10341] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:21.369Z] [runtime-status] [10341] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:22.091Z] [runtime-status] [10341] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:07:22.092Z] [runtime-status] [10341] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:07:22.092Z] [runtime-status] [10341] Running api in mode HTTPS
[debug] [2020-03-27T15:07:22.100Z] [runtime-status] [10341] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10341.sock
[debug] [2020-03-27T15:07:22.104Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:07:22.120Z] [runtime-status] [10341] Ephemeral server handling POST request
[debug] [2020-03-27T15:07:22.174Z] [runtime-status] [10341] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: 5 NOT_FOUND: No document to update: projects/rundat-e0a41/databases/(default)/documents/usersIDs/[object Object]
[info] >      at Object.callErrorFromStatus (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call.js:30:26)
[info] >      at Http2CallStream.<anonymous> (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/client.js:96:33)
[info] >      at Http2CallStream.emit (events.js:214:15)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/node_modules/@grpc/grpc-js/build/src/call-stream.js:100:22
[info] >      at processTicksAndRejections (internal/process/task_queues.js:75:11) {
[info] >    code: 5,
[info] >    details: 'No document to update: projects/rundat-e0a41/databases/(default)/documents/usersIDs/[object Object]',
[info] >    metadata: Metadata { internalRepr: Map {}, options: {} }
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:07:23.616Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: IDLE
[debug] [2020-03-27T15:07:23.616Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:07:36.031Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:07:37.033Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:07:37.034Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: FINISHING
[debug] [2020-03-27T15:07:37.034Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:07:37.035Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: FINISHING
[debug] [2020-03-27T15:07:37.052Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:07:37.052Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:07:37.052Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:07:37.053Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10352.sock
[debug] [2020-03-27T15:07:37.053Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: BUSY
[debug] [2020-03-27T15:07:37.054Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: exited
[debug] [2020-03-27T15:07:37.054Z] [worker-~diagnostic~-d040589f-cc27-4635-bd5b-3a99407970a5]: FINISHED
[debug] [2020-03-27T15:07:37.054Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: exited
[debug] [2020-03-27T15:07:37.054Z] [worker-api-8646346a-4647-4d92-890c-d91053b54620]: FINISHED
[debug] [2020-03-27T15:07:37.539Z] [runtime-status] [10352] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:07:37.542Z] [runtime-status] [10352] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:07:37.546Z] [runtime-status] [10352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:07:37.549Z] [runtime-status] [10352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:37.551Z] [runtime-status] [10352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:38.271Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: IDLE
[debug] [2020-03-27T15:07:44.778Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:07:44.778Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:07:44.778Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:07:44.778Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:07:44.778Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:07:44.783Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:07:44.783Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:07:44.783Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:07:44.783Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10361.sock
[debug] [2020-03-27T15:07:44.784Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: BUSY
[debug] [2020-03-27T15:07:45.081Z] [runtime-status] [10361] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:07:45.082Z] [runtime-status] [10361] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:07:45.086Z] [runtime-status] [10361] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:07:45.087Z] [runtime-status] [10361] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:45.088Z] [runtime-status] [10361] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:07:45.741Z] [runtime-status] [10361] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:07:45.741Z] [runtime-status] [10361] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:07:45.741Z] [runtime-status] [10361] Running api in mode HTTPS
[debug] [2020-03-27T15:07:45.746Z] [runtime-status] [10361] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10361.sock
[debug] [2020-03-27T15:07:45.749Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:07:45.764Z] [runtime-status] [10361] Ephemeral server handling POST request
[debug] [2020-03-27T15:07:45.818Z] [runtime-status] [10361] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:07:47.112Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: IDLE
[debug] [2020-03-27T15:07:47.112Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:08:05.743Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:06.745Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:06.745Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: FINISHING
[debug] [2020-03-27T15:08:06.745Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:08:06.746Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: FINISHING
[debug] [2020-03-27T15:08:06.760Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:06.760Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:06.760Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:06.760Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10370.sock
[debug] [2020-03-27T15:08:06.760Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: BUSY
[debug] [2020-03-27T15:08:06.761Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: exited
[debug] [2020-03-27T15:08:06.761Z] [worker-~diagnostic~-5d936fda-c3f1-4220-b533-7f717549cd80]: FINISHED
[debug] [2020-03-27T15:08:06.762Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: exited
[debug] [2020-03-27T15:08:06.762Z] [worker-api-a4a9d8cf-f0d6-4406-9ff7-0d0cb03c6b0c]: FINISHED
[debug] [2020-03-27T15:08:07.031Z] [runtime-status] [10370] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:07.033Z] [runtime-status] [10370] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:07.035Z] [runtime-status] [10370] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:07.036Z] [runtime-status] [10370] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:07.036Z] [runtime-status] [10370] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:07.564Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: IDLE
[debug] [2020-03-27T15:08:14.136Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:15.136Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:15.137Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: FINISHING
[debug] [2020-03-27T15:08:15.137Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:15.137Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:08:15.146Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:15.146Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:15.146Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:15.147Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10383.sock
[debug] [2020-03-27T15:08:15.147Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: BUSY
[debug] [2020-03-27T15:08:15.147Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: exited
[debug] [2020-03-27T15:08:15.147Z] [worker-~diagnostic~-288278e7-5b14-4389-8fad-579d077e6018]: FINISHED
[debug] [2020-03-27T15:08:15.532Z] [runtime-status] [10383] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:15.535Z] [runtime-status] [10383] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:15.543Z] [runtime-status] [10383] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:15.547Z] [runtime-status] [10383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:15.549Z] [runtime-status] [10383] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:16.115Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: IDLE
[debug] [2020-03-27T15:08:16.137Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:17.137Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:17.137Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: FINISHING
[debug] [2020-03-27T15:08:17.137Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:17.148Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:17.148Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:17.148Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:17.148Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10393.sock
[debug] [2020-03-27T15:08:17.149Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: BUSY
[debug] [2020-03-27T15:08:17.151Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: exited
[debug] [2020-03-27T15:08:17.151Z] [worker-~diagnostic~-cf228b75-14a7-4bde-afbb-82b2da6ac864]: FINISHED
[debug] [2020-03-27T15:08:17.430Z] [runtime-status] [10393] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:17.433Z] [runtime-status] [10393] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:17.435Z] [runtime-status] [10393] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:17.436Z] [runtime-status] [10393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:17.437Z] [runtime-status] [10393] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:18.075Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: IDLE
[debug] [2020-03-27T15:08:22.556Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:23.558Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:23.558Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: FINISHING
[debug] [2020-03-27T15:08:23.558Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:23.563Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:23.564Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:23.564Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:23.564Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10402.sock
[debug] [2020-03-27T15:08:23.564Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: BUSY
[debug] [2020-03-27T15:08:23.566Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: exited
[debug] [2020-03-27T15:08:23.566Z] [worker-~diagnostic~-c813bdbf-ee40-461a-b4bb-58c6d3890480]: FINISHED
[debug] [2020-03-27T15:08:23.977Z] [runtime-status] [10402] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:23.980Z] [runtime-status] [10402] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:23.985Z] [runtime-status] [10402] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:23.987Z] [runtime-status] [10402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:23.988Z] [runtime-status] [10402] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:24.926Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: IDLE
[debug] [2020-03-27T15:08:25.142Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:26.149Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:26.150Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: FINISHING
[debug] [2020-03-27T15:08:26.150Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:26.161Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:26.161Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:26.161Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:26.162Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10411.sock
[debug] [2020-03-27T15:08:26.162Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: BUSY
[debug] [2020-03-27T15:08:26.165Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: exited
[debug] [2020-03-27T15:08:26.168Z] [worker-~diagnostic~-15ecac0f-27a5-4d85-b941-faf5a42d5369]: FINISHED
[debug] [2020-03-27T15:08:26.478Z] [runtime-status] [10411] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:26.480Z] [runtime-status] [10411] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:26.484Z] [runtime-status] [10411] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:26.485Z] [runtime-status] [10411] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:26.486Z] [runtime-status] [10411] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:27.225Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: IDLE
[debug] [2020-03-27T15:08:32.286Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:08:32.286Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:08:32.286Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:08:32.286Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:32.291Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:08:32.292Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:08:32.292Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:08:32.292Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10421.sock
[debug] [2020-03-27T15:08:32.292Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: BUSY
[debug] [2020-03-27T15:08:32.720Z] [runtime-status] [10421] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:32.722Z] [runtime-status] [10421] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:32.724Z] [runtime-status] [10421] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:32.726Z] [runtime-status] [10421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:32.727Z] [runtime-status] [10421] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:33.398Z] [runtime-status] [10421] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:08:33.399Z] [runtime-status] [10421] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:08:33.399Z] [runtime-status] [10421] Running api in mode HTTPS
[debug] [2020-03-27T15:08:33.403Z] [runtime-status] [10421] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10421.sock
[debug] [2020-03-27T15:08:33.408Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:08:33.424Z] [runtime-status] [10421] Ephemeral server handling POST request
[debug] [2020-03-27T15:08:33.516Z] [runtime-status] [10421] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: Value for argument "documentPath" must point to a document, but was "/usersIDs/imageman/imageUrl". Your path does not contain an even number of components.
[info] >      at Firestore.doc (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@google-cloud/firestore/build/src/index.js:430:19)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:132:19
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:08:34.779Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: IDLE
[debug] [2020-03-27T15:08:34.779Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:08:45.817Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:08:46.821Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:08:46.825Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: FINISHING
[debug] [2020-03-27T15:08:46.825Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:08:46.825Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: FINISHING
[debug] [2020-03-27T15:08:46.839Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:08:46.839Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:08:46.839Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:08:46.839Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10424.sock
[debug] [2020-03-27T15:08:46.839Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: BUSY
[debug] [2020-03-27T15:08:46.840Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: exited
[debug] [2020-03-27T15:08:46.841Z] [worker-~diagnostic~-be5c25c5-de16-4db4-88f8-8ef6701c9247]: FINISHED
[debug] [2020-03-27T15:08:46.841Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: exited
[debug] [2020-03-27T15:08:46.841Z] [worker-api-b2ce8268-f046-4987-9f0e-3c1df2930631]: FINISHED
[debug] [2020-03-27T15:08:47.148Z] [runtime-status] [10424] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:47.149Z] [runtime-status] [10424] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:47.151Z] [runtime-status] [10424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:47.152Z] [runtime-status] [10424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:47.153Z] [runtime-status] [10424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:48.210Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: IDLE
[debug] [2020-03-27T15:08:49.113Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:08:49.113Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:08:49.113Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:08:49.113Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:08:49.113Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:08:49.118Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:08:49.118Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:08:49.118Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:08:49.118Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10433.sock
[debug] [2020-03-27T15:08:49.118Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: BUSY
[debug] [2020-03-27T15:08:49.408Z] [runtime-status] [10433] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:08:49.411Z] [runtime-status] [10433] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:08:49.413Z] [runtime-status] [10433] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:08:49.414Z] [runtime-status] [10433] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:49.415Z] [runtime-status] [10433] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:08:50.085Z] [runtime-status] [10433] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:08:50.086Z] [runtime-status] [10433] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:08:50.086Z] [runtime-status] [10433] Running api in mode HTTPS
[debug] [2020-03-27T15:08:50.090Z] [runtime-status] [10433] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10433.sock
[debug] [2020-03-27T15:08:50.097Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:08:50.113Z] [runtime-status] [10433] Ephemeral server handling POST request
[debug] [2020-03-27T15:08:50.166Z] [runtime-status] [10433] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:08:51.480Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: IDLE
[debug] [2020-03-27T15:08:51.480Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:09:20.819Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:09:21.821Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:09:21.821Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: FINISHING
[debug] [2020-03-27T15:09:21.821Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:09:21.821Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: FINISHING
[debug] [2020-03-27T15:09:21.834Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:09:21.835Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:09:21.835Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:09:21.835Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10437.sock
[debug] [2020-03-27T15:09:21.835Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: BUSY
[debug] [2020-03-27T15:09:21.837Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: exited
[debug] [2020-03-27T15:09:21.837Z] [worker-~diagnostic~-c3f368b3-0699-4fa9-96c4-08fcd48b657a]: FINISHED
[debug] [2020-03-27T15:09:21.837Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: exited
[debug] [2020-03-27T15:09:21.837Z] [worker-api-56e45bbf-e70c-49a8-921e-286abea8331f]: FINISHED
[debug] [2020-03-27T15:09:22.302Z] [runtime-status] [10437] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:09:22.304Z] [runtime-status] [10437] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:09:22.308Z] [runtime-status] [10437] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:09:22.310Z] [runtime-status] [10437] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:09:22.311Z] [runtime-status] [10437] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:09:23.040Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: IDLE
[debug] [2020-03-27T15:09:33.919Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:09:33.919Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:09:33.919Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:09:33.919Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:09:33.920Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:09:33.929Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:09:33.929Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:09:33.929Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:09:33.930Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10447.sock
[debug] [2020-03-27T15:09:33.930Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: BUSY
[debug] [2020-03-27T15:09:34.242Z] [runtime-status] [10447] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:09:34.245Z] [runtime-status] [10447] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:09:34.247Z] [runtime-status] [10447] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:09:34.248Z] [runtime-status] [10447] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:09:34.250Z] [runtime-status] [10447] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:09:35.344Z] [runtime-status] [10447] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:09:35.345Z] [runtime-status] [10447] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:09:35.345Z] [runtime-status] [10447] Running api in mode HTTPS
[debug] [2020-03-27T15:09:35.351Z] [runtime-status] [10447] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10447.sock
[debug] [2020-03-27T15:09:35.354Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:09:35.370Z] [runtime-status] [10447] Ephemeral server handling POST request
[debug] [2020-03-27T15:09:35.408Z] [runtime-status] [10447] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  Error while verifying token TypeError: Cannot read property 'data' of undefined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/util/firebaseAuth.js:23:42
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:09:35.928Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: IDLE
[debug] [2020-03-27T15:09:35.928Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:10:40.206Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:10:41.211Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:10:41.211Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: FINISHING
[debug] [2020-03-27T15:10:41.211Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:10:41.211Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: FINISHING
[debug] [2020-03-27T15:10:41.226Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:10:41.226Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:10:41.226Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:10:41.226Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10457.sock
[debug] [2020-03-27T15:10:41.226Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: BUSY
[debug] [2020-03-27T15:10:41.228Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: exited
[debug] [2020-03-27T15:10:41.228Z] [worker-~diagnostic~-4a07d436-d464-4709-a912-9cc8b504d1b4]: FINISHED
[debug] [2020-03-27T15:10:41.229Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: exited
[debug] [2020-03-27T15:10:41.229Z] [worker-api-52bbefbe-f3b3-4e29-b515-0e8a1fa01148]: FINISHED
[debug] [2020-03-27T15:10:41.826Z] [runtime-status] [10457] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:10:41.828Z] [runtime-status] [10457] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:10:41.830Z] [runtime-status] [10457] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:10:41.831Z] [runtime-status] [10457] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:41.832Z] [runtime-status] [10457] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:41.916Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:10:42.639Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: IDLE
[debug] [2020-03-27T15:10:42.919Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:10:42.919Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: FINISHING
[debug] [2020-03-27T15:10:42.919Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:10:42.920Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:10:42.930Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:10:42.931Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:10:42.931Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:10:42.931Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10466.sock
[debug] [2020-03-27T15:10:42.931Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: BUSY
[debug] [2020-03-27T15:10:42.979Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: exited
[debug] [2020-03-27T15:10:42.979Z] [worker-~diagnostic~-2923bc80-dba7-4970-8546-9a2b08531f8a]: FINISHED
[debug] [2020-03-27T15:10:43.272Z] [runtime-status] [10466] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:10:43.278Z] [runtime-status] [10466] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:10:43.298Z] [runtime-status] [10466] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:10:43.348Z] [runtime-status] [10466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:43.351Z] [runtime-status] [10466] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:44.150Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: IDLE
[debug] [2020-03-27T15:10:45.426Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:10:46.428Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:10:46.428Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: FINISHING
[debug] [2020-03-27T15:10:46.428Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:10:46.437Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:10:46.437Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:10:46.437Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:10:46.438Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10470.sock
[debug] [2020-03-27T15:10:46.438Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: BUSY
[debug] [2020-03-27T15:10:46.439Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: exited
[debug] [2020-03-27T15:10:46.439Z] [worker-~diagnostic~-f6c39ae6-5e4e-4923-84de-8593cb7840ba]: FINISHED
[debug] [2020-03-27T15:10:46.847Z] [runtime-status] [10470] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:10:46.849Z] [runtime-status] [10470] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:10:46.853Z] [runtime-status] [10470] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:10:46.855Z] [runtime-status] [10470] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:46.858Z] [runtime-status] [10470] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:47.439Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: IDLE
[debug] [2020-03-27T15:10:49.399Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:10:50.402Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:10:50.406Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: FINISHING
[debug] [2020-03-27T15:10:50.406Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:10:50.412Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:10:50.412Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:10:50.412Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:10:50.412Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10477.sock
[debug] [2020-03-27T15:10:50.412Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: BUSY
[debug] [2020-03-27T15:10:50.415Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: exited
[debug] [2020-03-27T15:10:50.415Z] [worker-~diagnostic~-063546c8-3cfd-4f5a-a672-1bbde9cbe867]: FINISHED
[debug] [2020-03-27T15:10:50.637Z] [runtime-status] [10477] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:10:50.639Z] [runtime-status] [10477] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:10:50.641Z] [runtime-status] [10477] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:10:50.642Z] [runtime-status] [10477] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:50.643Z] [runtime-status] [10477] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:51.195Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: IDLE
[debug] [2020-03-27T15:10:55.926Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:10:55.926Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:10:55.926Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:10:55.926Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:10:55.930Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:10:55.930Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:10:55.930Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:10:55.930Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:10:55.930Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: BUSY
[debug] [2020-03-27T15:10:56.186Z] [runtime-status] [10486] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:10:56.188Z] [runtime-status] [10486] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:10:56.190Z] [runtime-status] [10486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:10:56.191Z] [runtime-status] [10486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:56.192Z] [runtime-status] [10486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:10:56.943Z] [runtime-status] [10486] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:10:56.943Z] [runtime-status] [10486] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:10:56.943Z] [runtime-status] [10486] Running api in mode HTTPS
[debug] [2020-03-27T15:10:56.949Z] [runtime-status] [10486] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:10:56.955Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:10:56.972Z] [runtime-status] [10486] Ephemeral server handling POST request
[debug] [2020-03-27T15:10:57.020Z] [runtime-status] [10486] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585320554,
[info] >    user_id: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    sub: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2',
[info] >    iat: 1585320554,
[info] >    exp: 1585324154,
[info] >    email: 'testwithnewimage@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'xsFc5u7cPaWYSY5hRp6bacrpUjL2'
[info] >  }
[info] >  Error while verifying token TypeError: Cannot read property 'data' of undefined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/util/firebaseAuth.js:23:42
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:10:57.615Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: IDLE
[debug] [2020-03-27T15:10:57.615Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:11:24.489Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:11:24.490Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:11:24.490Z] Accepted request POST /rundat-e0a41/europe-west1/api/login --> api
[debug] [2020-03-27T15:11:24.490Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:11:24.490Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:24.490Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: BUSY
[debug] [2020-03-27T15:11:24.491Z] [runtime-status] [10486] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:11:24.492Z] [runtime-status] [10486] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:11:24.492Z] [runtime-status] [10486] Running api in mode HTTPS
[debug] [2020-03-27T15:11:24.492Z] [runtime-status] [10486] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:24.492Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:11:24.516Z] [runtime-status] [10486] Ephemeral server handling POST request
[debug] [2020-03-27T15:11:24.531Z] [runtime-status] [10486] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:11:25.273Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: IDLE
[debug] [2020-03-27T15:11:25.273Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:11:36.151Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:11:36.151Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:11:36.151Z] Accepted request POST /rundat-e0a41/europe-west1/api/signup --> api
[debug] [2020-03-27T15:11:36.151Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:11:36.152Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:36.152Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: BUSY
[debug] [2020-03-27T15:11:36.155Z] [runtime-status] [10486] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:11:36.155Z] [runtime-status] [10486] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:11:36.155Z] [runtime-status] [10486] Running api in mode HTTPS
[debug] [2020-03-27T15:11:36.157Z] [runtime-status] [10486] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:36.159Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:11:36.162Z] [runtime-status] [10486] Ephemeral server handling POST request
[debug] [2020-03-27T15:11:36.164Z] [runtime-status] [10486] Ephemeral server survived.
[info] >  TypeError: Cannot read property 'uid' of undefined
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:35:28
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:11:36.239Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: IDLE
[debug] [2020-03-27T15:11:36.239Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:11:58.282Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:11:58.282Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:11:58.282Z] Accepted request POST /rundat-e0a41/europe-west1/api/login --> api
[debug] [2020-03-27T15:11:58.283Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:11:58.283Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:58.283Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: BUSY
[debug] [2020-03-27T15:11:58.283Z] [runtime-status] [10486] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:11:58.284Z] [runtime-status] [10486] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:11:58.284Z] [runtime-status] [10486] Running api in mode HTTPS
[debug] [2020-03-27T15:11:58.284Z] [runtime-status] [10486] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:11:58.286Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:11:58.290Z] [runtime-status] [10486] Ephemeral server handling POST request
[debug] [2020-03-27T15:11:58.292Z] [runtime-status] [10486] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:11:58.770Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: IDLE
[debug] [2020-03-27T15:11:58.770Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:12:08.939Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:12:08.939Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:12:08.939Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:12:08.939Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:12:08.939Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:12:08.939Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: BUSY
[debug] [2020-03-27T15:12:08.940Z] [runtime-status] [10486] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:12:08.940Z] [runtime-status] [10486] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:12:08.940Z] [runtime-status] [10486] Running api in mode HTTPS
[debug] [2020-03-27T15:12:08.941Z] [runtime-status] [10486] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10486.sock
[debug] [2020-03-27T15:12:08.941Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:12:08.948Z] [runtime-status] [10486] Ephemeral server handling POST request
[debug] [2020-03-27T15:12:08.948Z] [runtime-status] [10486] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585321918,
[info] >    user_id: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2',
[info] >    sub: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2',
[info] >    iat: 1585321918,
[info] >    exp: 1585325518,
[info] >    email: 'trial1@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] >  Error: Value for argument "documentPath" must point to a document, but was "/usersIDs/yolo/imageUrl". Your path does not contain an even number of components.
[info] >      at Firestore.doc (/Users/yousef/codeclan_work/run_dat/functions/node_modules/@google-cloud/firestore/build/src/index.js:430:19)
[info] >      at /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js:132:19
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:12:09.731Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: IDLE
[debug] [2020-03-27T15:12:09.731Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:12:47.950Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:12:48.951Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:12:48.951Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: FINISHING
[debug] [2020-03-27T15:12:48.951Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:12:48.951Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: FINISHING
[debug] [2020-03-27T15:12:48.969Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:12:48.969Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:12:48.969Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:12:48.969Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10499.sock
[debug] [2020-03-27T15:12:48.969Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: BUSY
[debug] [2020-03-27T15:12:48.970Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: exited
[debug] [2020-03-27T15:12:48.970Z] [worker-~diagnostic~-3e7a8d65-b5ed-4118-8c58-f103afb1deec]: FINISHED
[debug] [2020-03-27T15:12:48.971Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: exited
[debug] [2020-03-27T15:12:48.972Z] [worker-api-1996711c-36ef-42f7-ab1e-529d11d4de2e]: FINISHED
[debug] [2020-03-27T15:12:49.309Z] [runtime-status] [10499] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:12:49.309Z] [runtime-status] [10499] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:12:49.310Z] [runtime-status] [10499] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:12:49.311Z] [runtime-status] [10499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:12:49.313Z] [runtime-status] [10499] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:12:49.363Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:12:49.363Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:12:49.363Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:12:49.363Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:12:49.363Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:12:49.368Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:12:49.368Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:12:49.368Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:12:49.368Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10500.sock
[debug] [2020-03-27T15:12:49.368Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: BUSY
[debug] [2020-03-27T15:12:49.737Z] [runtime-status] [10500] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:12:49.740Z] [runtime-status] [10500] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:12:49.754Z] [runtime-status] [10500] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:12:49.762Z] [runtime-status] [10500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:12:49.764Z] [runtime-status] [10500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:12:50.343Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: IDLE
[debug] [2020-03-27T15:12:50.542Z] [runtime-status] [10500] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:12:50.542Z] [runtime-status] [10500] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:12:50.543Z] [runtime-status] [10500] Running api in mode HTTPS
[debug] [2020-03-27T15:12:50.547Z] [runtime-status] [10500] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10500.sock
[debug] [2020-03-27T15:12:50.550Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:12:50.570Z] [runtime-status] [10500] Ephemeral server handling POST request
[debug] [2020-03-27T15:12:50.622Z] [runtime-status] [10500] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585321918,
[info] >    user_id: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2',
[info] >    sub: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2',
[info] >    iat: 1585321918,
[info] >    exp: 1585325518,
[info] >    email: 'trial1@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'EHKqOgiWYXU5ISCrClUz9cxc2gj2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:12:52.236Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: IDLE
[debug] [2020-03-27T15:12:52.236Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:13:04.490Z] File /Users/yousef/codeclan_work/run_dat/functions/handlers/users.js changed, reloading triggers
[debug] [2020-03-27T15:13:05.492Z] [worker-pool] Shutting down IDLE worker (~diagnostic~)
[debug] [2020-03-27T15:13:05.493Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: FINISHING
[debug] [2020-03-27T15:13:05.493Z] [worker-pool] Shutting down IDLE worker (api)
[debug] [2020-03-27T15:13:05.493Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: FINISHING
[debug] [2020-03-27T15:13:05.508Z] [worker-pool] addWorker(~diagnostic~)
[debug] [2020-03-27T15:13:05.509Z] [worker-pool] Adding worker with key ~diagnostic~, total=2
[debug] [2020-03-27T15:13:05.509Z] [worker-pool] submitWork(triggerId=)
[debug] [2020-03-27T15:13:05.509Z] [worker-~diagnostic~-b3725513-658b-4a8d-8052-2d9456a53422]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10510.sock
[debug] [2020-03-27T15:13:05.509Z] [worker-~diagnostic~-b3725513-658b-4a8d-8052-2d9456a53422]: BUSY
[debug] [2020-03-27T15:13:05.510Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: exited
[debug] [2020-03-27T15:13:05.510Z] [worker-~diagnostic~-719a98bf-78ec-4173-95c5-2c2e03cc6be6]: FINISHED
[debug] [2020-03-27T15:13:05.510Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: exited
[debug] [2020-03-27T15:13:05.510Z] [worker-api-fdec0166-a0ff-4355-9458-942ed3da518c]: FINISHED
[debug] [2020-03-27T15:13:05.986Z] [runtime-status] [10510] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:13:05.991Z] [runtime-status] [10510] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:13:05.997Z] [runtime-status] [10510] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:13:05.998Z] [runtime-status] [10510] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:13:05.999Z] [runtime-status] [10510] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:13:06.614Z] [worker-~diagnostic~-b3725513-658b-4a8d-8052-2d9456a53422]: IDLE
[debug] [2020-03-27T15:13:28.383Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:13:28.383Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:13:28.383Z] Accepted request POST /rundat-e0a41/europe-west1/api/login --> api
[debug] [2020-03-27T15:13:28.383Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1
[debug] [2020-03-27T15:13:28.383Z] [worker-pool] Cleaned up workers for api: 1 --> 0
[debug] [2020-03-27T15:13:28.390Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:13:28.390Z] [worker-pool] Adding worker with key api, total=1
[debug] [2020-03-27T15:13:28.390Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:13:28.390Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:13:28.390Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: BUSY
[debug] [2020-03-27T15:13:28.658Z] [runtime-status] [10522] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:13:28.660Z] [runtime-status] [10522] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:13:28.662Z] [runtime-status] [10522] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:13:28.664Z] [runtime-status] [10522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:13:28.665Z] [runtime-status] [10522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:13:29.360Z] [runtime-status] [10522] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:13:29.360Z] [runtime-status] [10522] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:13:29.360Z] [runtime-status] [10522] Running api in mode HTTPS
[debug] [2020-03-27T15:13:29.365Z] [runtime-status] [10522] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:13:29.369Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:13:29.397Z] [runtime-status] [10522] Ephemeral server handling POST request
[debug] [2020-03-27T15:13:29.437Z] [runtime-status] [10522] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:13:30.224Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: IDLE
[debug] [2020-03-27T15:13:30.224Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:13:41.751Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:13:41.752Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:13:41.752Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:13:41.752Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:13:41.752Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:13:41.752Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: BUSY
[debug] [2020-03-27T15:13:41.753Z] [runtime-status] [10522] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:13:41.753Z] [runtime-status] [10522] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:13:41.753Z] [runtime-status] [10522] Running api in mode HTTPS
[debug] [2020-03-27T15:13:41.754Z] [runtime-status] [10522] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:13:41.755Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:13:41.764Z] [runtime-status] [10522] Ephemeral server handling POST request
[debug] [2020-03-27T15:13:41.799Z] [runtime-status] [10522] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585322009,
[info] >    user_id: 'q0GVZJZbjKRDO3UgtUnOoc69WZy1',
[info] >    sub: 'q0GVZJZbjKRDO3UgtUnOoc69WZy1',
[info] >    iat: 1585322009,
[info] >    exp: 1585325609,
[info] >    email: 'testlogin@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'q0GVZJZbjKRDO3UgtUnOoc69WZy1'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:13:43.146Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: IDLE
[debug] [2020-03-27T15:13:43.146Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-03-27T15:15:02.907Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-03-27T15:15:02.907Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:15:02.907Z] Accepted request POST /rundat-e0a41/europe-west1/api/signup --> api
[debug] [2020-03-27T15:15:02.907Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:15:02.907Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:15:02.907Z] [worker-api-a969e0da-2395-429e-bec0-f2d3e738d1b3]: BUSY
[debug] [2020-03-27T15:15:02.908Z] [runtime-status] [10522] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:15:02.908Z] [runtime-status] [10522] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:15:02.908Z] [runtime-status] [10522] Running api in mode HTTPS
[debug] [2020-03-27T15:15:02.908Z] [runtime-status] [10522] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10522.sock
[debug] [2020-03-27T15:15:02.910Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:15:02.917Z] [runtime-status] [10522] Ephemeral server handling POST request
[debug] [2020-03-27T15:15:02.917Z] [runtime-status] [10522] Ephemeral server survived.
[info] >  [u [Error]: The email address is already in use by another account.] {
[info] >    code: 'auth/email-already-in-use',
[info] >    message: 'The email address is already in use by another account.',
[info] >    a: null
[info] >  }
[debug] [2020-03-27T15:17:01.219Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-03-27T15:17:01.219Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-03-27T15:17:01.219Z] Accepted request POST /rundat-e0a41/europe-west1/api/signup --> api
[debug] [2020-03-27T15:17:01.228Z] [worker-pool] addWorker(api)
[debug] [2020-03-27T15:17:01.229Z] [worker-pool] Adding worker with key api, total=2
[debug] [2020-03-27T15:17:01.229Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:17:01.229Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:01.229Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: BUSY
[debug] [2020-03-27T15:17:02.144Z] [runtime-status] [10547] Functions runtime initialized. {"cwd":"/Users/yousef/codeclan_work/run_dat/functions","node_version":"12.10.0"}
[debug] [2020-03-27T15:17:02.146Z] [runtime-status] [10547] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true,"pubsub_emulator":true}
[debug] [2020-03-27T15:17:02.155Z] [runtime-status] [10547] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.10.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2020-03-27T15:17:02.159Z] [runtime-status] [10547] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:17:02.160Z] [runtime-status] [10547] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/yousef/codeclan_work/run_dat/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2020-03-27T15:17:03.955Z] [runtime-status] [10547] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:17:03.956Z] [runtime-status] [10547] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:17:03.956Z] [runtime-status] [10547] Running api in mode HTTPS
[debug] [2020-03-27T15:17:03.963Z] [runtime-status] [10547] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:03.972Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:17:04.019Z] [runtime-status] [10547] Ephemeral server handling POST request
[debug] [2020-03-27T15:17:04.024Z] [runtime-status] [10547] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:17:05.325Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: IDLE
[debug] [2020-03-27T15:17:05.325Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:17:14.032Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-03-27T15:17:14.033Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-03-27T15:17:14.033Z] Accepted request POST /rundat-e0a41/europe-west1/api/login --> api
[debug] [2020-03-27T15:17:14.033Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:17:14.033Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:14.033Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: BUSY
[debug] [2020-03-27T15:17:14.033Z] [runtime-status] [10547] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:17:14.034Z] [runtime-status] [10547] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:17:14.034Z] [runtime-status] [10547] Running api in mode HTTPS
[debug] [2020-03-27T15:17:14.034Z] [runtime-status] [10547] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:14.036Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:17:14.040Z] [runtime-status] [10547] Ephemeral server handling POST request
[debug] [2020-03-27T15:17:14.044Z] [runtime-status] [10547] Ephemeral server survived.
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:17:14.485Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: IDLE
[debug] [2020-03-27T15:17:14.485Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-03-27T15:17:29.182Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-03-27T15:17:29.182Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-03-27T15:17:29.182Z] Accepted request POST /rundat-e0a41/europe-west1/api/user/image --> api
[debug] [2020-03-27T15:17:29.182Z] [worker-pool] submitWork(triggerId=api)
[debug] [2020-03-27T15:17:29.182Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: Assigning socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:29.182Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: BUSY
[debug] [2020-03-27T15:17:29.185Z] [runtime-status] [10547] Trigger "api" has been found, beginning invocation!
[info] i  functions: Beginning execution of "api"
[debug] [2020-03-27T15:17:29.185Z] [runtime-status] [10547] triggerDefinition {"regions":["europe-west1"],"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2020-03-27T15:17:29.185Z] [runtime-status] [10547] Running api in mode HTTPS
[debug] [2020-03-27T15:17:29.185Z] [runtime-status] [10547] Attempting to listen to socketPath: /var/folders/v5/xxq7ynr55b74x4jsxdx_kbxw0000gn/T/fire_emu_10547.sock
[debug] [2020-03-27T15:17:29.186Z] [functions] Runtime ready! Sending request!
[debug] [2020-03-27T15:17:29.191Z] [runtime-status] [10547] Ephemeral server handling POST request
[debug] [2020-03-27T15:17:29.254Z] [runtime-status] [10547] Ephemeral server survived.
[info] >  {
[info] >    iss: 'https://securetoken.google.com/rundat-e0a41',
[info] >    aud: 'rundat-e0a41',
[info] >    auth_time: 1585322234,
[info] >    user_id: 'rAUwvzJuIWdVtBqXmKOD38Cz8OM2',
[info] >    sub: 'rAUwvzJuIWdVtBqXmKOD38Cz8OM2',
[info] >    iat: 1585322234,
[info] >    exp: 1585325834,
[info] >    email: 'trial@email.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'rAUwvzJuIWdVtBqXmKOD38Cz8OM2'
[info] >  }
[info] >  img FileStream {
[info] >    _readableState: ReadableState {
[info] >      objectMode: false,
[info] >      highWaterMark: 16384,
[info] >      buffer: BufferList { head: null, tail: null, length: 0 },
[info] >      length: 0,
[info] >      pipes: null,
[info] >      pipesCount: 0,
[info] >      flowing: null,
[info] >      ended: false,
[info] >      endEmitted: false,
[info] >      reading: false,
[info] >      sync: true,
[info] >      needReadable: false,
[info] >      emittedReadable: false,
[info] >      readableListening: false,
[info] >      resumeScheduled: false,
[info] >      paused: true,
[info] >      emitClose: true,
[info] >      autoDestroy: false,
[info] >      destroyed: false,
[info] >      defaultEncoding: 'utf8',
[info] >      awaitDrain: 0,
[info] >      readingMore: false,
[info] >      decoder: null,
[info] >      encoding: null
[info] >    },
[info] >    readable: true,
[info] >    _events: [Object: null prototype] { end: [Function] },
[info] >    _eventsCount: 1,
[info] >    _maxListeners: undefined,
[info] >    truncated: false,
[info] >    _read: [Function]
[info] >  } LJF.jpg 7bit image/jpeg
[info] i  functions: Finished "api" in ~1s
[debug] [2020-03-27T15:17:30.677Z] [worker-api-c875b758-38dc-4acd-a41b-09f616b9f32c]: IDLE
[debug] [2020-03-27T15:17:30.679Z] [work-queue] {"queueLength":0,"workRunningCount":1}
